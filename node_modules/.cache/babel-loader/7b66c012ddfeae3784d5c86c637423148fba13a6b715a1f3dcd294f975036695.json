{"ast":null,"code":"const _ = require('lodash');\nclass Schema {\n  constructor(schema = {}, dependencies = {}) {\n    if (dependencies.logger) {\n      this.logger = dependencies.logger;\n    }\n    if (schema.config) {\n      const config = _.cloneDeep(schema.config);\n      this.setter(config);\n    }\n    if (schema.data) {\n      const data = schema.data();\n      this.setter(data);\n    }\n    if (schema.events) {\n      this.setter(schema.events);\n    }\n  }\n  setter(object = {}) {\n    Object.entries(object).forEach(([key, value]) => {\n      if (typeof value === 'function') {\n        value.bind(this);\n      }\n      this[key] = value;\n    });\n  }\n  static factory(schema, dependencies = {}) {\n    return new Schema(schema, dependencies);\n  }\n}\nmodule.exports = Schema;","map":{"version":3,"names":["_","require","Schema","constructor","schema","dependencies","logger","config","cloneDeep","setter","data","events","object","Object","entries","forEach","key","value","bind","factory","module","exports"],"sources":["C:/Users/amabr/OneDrive/Bureau/Mielsite/node_modules/smtpjs/src/smtp/schema/Schema.js"],"sourcesContent":["const _ = require('lodash')\n\nclass Schema {\n  constructor (schema = {}, dependencies = {}) {\n    if (dependencies.logger) {\n      this.logger = dependencies.logger\n    }\n\n    if (schema.config) {\n      const config = _.cloneDeep(schema.config)\n      this.setter(config)\n    }\n\n    if (schema.data) {\n      const data = schema.data()\n      this.setter(data)\n    }\n\n    if (schema.events) {\n      this.setter(schema.events)\n    }\n  }\n\n  setter (object = {}) {\n    Object.entries(object).forEach(([key, value]) => {\n      if (typeof value === 'function') {\n        value.bind(this)\n      }\n\n      this[key] = value\n    })\n  }\n\n  static factory (schema, dependencies = {}) {\n    return new Schema(schema, dependencies)\n  }\n}\n\nmodule.exports = Schema"],"mappings":"AAAA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAE3B,MAAMC,MAAM,CAAC;EACXC,WAAWA,CAAEC,MAAM,GAAG,CAAC,CAAC,EAAEC,YAAY,GAAG,CAAC,CAAC,EAAE;IAC3C,IAAIA,YAAY,CAACC,MAAM,EAAE;MACvB,IAAI,CAACA,MAAM,GAAGD,YAAY,CAACC,MAAM;IACnC;IAEA,IAAIF,MAAM,CAACG,MAAM,EAAE;MACjB,MAAMA,MAAM,GAAGP,CAAC,CAACQ,SAAS,CAACJ,MAAM,CAACG,MAAM,CAAC;MACzC,IAAI,CAACE,MAAM,CAACF,MAAM,CAAC;IACrB;IAEA,IAAIH,MAAM,CAACM,IAAI,EAAE;MACf,MAAMA,IAAI,GAAGN,MAAM,CAACM,IAAI,CAAC,CAAC;MAC1B,IAAI,CAACD,MAAM,CAACC,IAAI,CAAC;IACnB;IAEA,IAAIN,MAAM,CAACO,MAAM,EAAE;MACjB,IAAI,CAACF,MAAM,CAACL,MAAM,CAACO,MAAM,CAAC;IAC5B;EACF;EAEAF,MAAMA,CAAEG,MAAM,GAAG,CAAC,CAAC,EAAE;IACnBC,MAAM,CAACC,OAAO,CAACF,MAAM,CAAC,CAACG,OAAO,CAAC,CAAC,CAACC,GAAG,EAAEC,KAAK,CAAC,KAAK;MAC/C,IAAI,OAAOA,KAAK,KAAK,UAAU,EAAE;QAC/BA,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC;MAClB;MAEA,IAAI,CAACF,GAAG,CAAC,GAAGC,KAAK;IACnB,CAAC,CAAC;EACJ;EAEA,OAAOE,OAAOA,CAAEf,MAAM,EAAEC,YAAY,GAAG,CAAC,CAAC,EAAE;IACzC,OAAO,IAAIH,MAAM,CAACE,MAAM,EAAEC,YAAY,CAAC;EACzC;AACF;AAEAe,MAAM,CAACC,OAAO,GAAGnB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}